<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="450" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="7" markerHeight="5" 
     refX="6" refY="2.5" orient="auto">
      <polygon points="0 0, 7 2.5, 0 5" fill="#ff6b35" />
    </marker>
    <marker id="bidirectionalArrow" markerWidth="5" markerHeight="3" 
     refX="4" refY="1.5" orient="auto">
      <polygon points="0 0, 5 1.5, 0 3" fill="#ff6b35" />
    </marker>
  </defs>
  
  
  <!-- Central Manager -->
  <rect x="350" y="50" width="200" height="80" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="5"/>
  <text x="450" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6a1b9a">Central Manager</text>
  
  <!-- Manager component -->
  <rect x="400" y="90" width="100" height="30" fill="#e1bee7" stroke="#8e24aa" stroke-width="1" rx="3"/>
  <text x="450" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#4a148c">Manager</text>
  
  <!-- Kubernetes Cluster A -->
  <rect x="50" y="180" width="200" height="120" fill="#ede7f6" stroke="#9c27b0" stroke-width="2" rx="5"/>
  <text x="150" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6a1b9a">Cluster A</text>
  
  <!-- Edge 1 -->
  <rect x="70" y="200" width="80" height="30" fill="#bbdefb" stroke="#1565c0" stroke-width="1" rx="3"/>
  <text x="110" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0d47a1">Edge 1</text>
  
  <!-- K8s API Server A -->
  <rect x="160" y="200" width="70" height="30" fill="#e1bee7" stroke="#8e24aa" stroke-width="1" rx="3"/>
  <text x="195" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#4a148c">K8s API</text>
  
  <!-- Envoy Proxy A -->
  <rect x="70" y="240" width="80" height="30" fill="#e1bee7" stroke="#8e24aa" stroke-width="1" rx="3"/>
  <text x="110" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#4a148c">Envoy Proxy</text>
  
  <!-- Kubernetes Cluster B -->
  <rect x="350" y="180" width="200" height="120" fill="#ede7f6" stroke="#9c27b0" stroke-width="2" rx="5"/>
  <text x="450" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6a1b9a">Cluster B</text>
  
  <!-- Edge 2 -->
  <rect x="370" y="200" width="80" height="30" fill="#bbdefb" stroke="#1565c0" stroke-width="1" rx="3"/>
  <text x="410" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0d47a1">Edge 2</text>
  
  <!-- K8s API Server B -->
  <rect x="460" y="200" width="70" height="30" fill="#e1bee7" stroke="#8e24aa" stroke-width="1" rx="3"/>
  <text x="495" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#4a148c">K8s API</text>
  
  <!-- Envoy Proxy B -->
  <rect x="370" y="240" width="80" height="30" fill="#e1bee7" stroke="#8e24aa" stroke-width="1" rx="3"/>
  <text x="410" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#4a148c">Envoy Proxy</text>
  
  <!-- Kubernetes Cluster C -->
  <rect x="650" y="180" width="200" height="120" fill="#ede7f6" stroke="#9c27b0" stroke-width="2" rx="5"/>
  <text x="750" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6a1b9a">Cluster C</text>
  
  <!-- Edge 3 -->
  <rect x="670" y="200" width="80" height="30" fill="#bbdefb" stroke="#1565c0" stroke-width="1" rx="3"/>
  <text x="710" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0d47a1">Edge 3</text>
  
  <!-- K8s API Server C -->
  <rect x="760" y="200" width="70" height="30" fill="#e1bee7" stroke="#8e24aa" stroke-width="1" rx="3"/>
  <text x="795" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#4a148c">K8s API</text>
  
  <!-- Envoy Proxy C -->
  <rect x="670" y="240" width="80" height="30" fill="#e1bee7" stroke="#8e24aa" stroke-width="1" rx="3"/>
  <text x="710" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#4a148c">Envoy Proxy</text>
  
  <!-- Internal connections within clusters -->
  <!-- Edge 1 to K8s API connection -->
  <line x1="150" y1="215" x2="160" y2="215" stroke="#1976d2" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Edge 2 to K8s API connection -->
  <line x1="450" y1="215" x2="460" y2="215" stroke="#1976d2" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Edge 3 to K8s API connection -->
  <line x1="750" y1="215" x2="760" y2="215" stroke="#1976d2" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Bidirectional Streams from Edges to Manager -->
  <!-- Edge 1 to Manager -->
  <line x1="110" y1="200" x2="400" y2="130" stroke="#ff6b35" stroke-width="3" stroke-dasharray="8,4" marker-end="url(#bidirectionalArrow)"/>
  
  <!-- Edge 2 to Manager -->
  <line x1="410" y1="200" x2="450" y2="130" stroke="#ff6b35" stroke-width="3" stroke-dasharray="8,4" marker-end="url(#bidirectionalArrow)"/>
  
  <!-- Edge 3 to Manager -->
  <line x1="710" y1="200" x2="500" y2="130" stroke="#ff6b35" stroke-width="3" stroke-dasharray="8,4" marker-end="url(#bidirectionalArrow)"/>
  
  <!-- Legend -->
  <rect x="50" y="340" width="800" height="60" fill="white" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="60" y="355" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#333">Legend:</text>
  <line x1="60" y1="365" x2="85" y2="365" stroke="#ff6b35" stroke-width="3" stroke-dasharray="8,4"/>
  <text x="90" y="370" font-family="Arial, sans-serif" font-size="9" fill="#333">Bidirectional gRPC streams</text>
  <line x1="60" y1="380" x2="85" y2="380" stroke="#1976d2" stroke-width="2"/>
  <text x="90" y="385" font-family="Arial, sans-serif" font-size="9" fill="#333">Internal cluster connections</text>
</svg>